<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoalNewsDE - Fu√üball-News & Tabellen</title>

    <!-- Favicon -->
    <link rel="icon" href="https://i.ibb.co/21R6p75W/Logo-1.jpg" type="image/jpeg">

    <link rel="stylesheet" href="style.css">

    <!-- PWA / App -->
    <meta name="theme-color" content="#1db954">
    <link rel="apple-touch-icon" href="https://i.ibb.co/21R6p75W/Logo-1.jpg">
    <link rel="manifest" href="manifest.json">
</head>

<body>
    <div id="breakingNews">
        <div class="news-wrapper">
            <span class="news-item">RB Leipzig weiter ungeschlagen ‚Äì setzen ihre Serie fort!</span>
            <span class="news-item">Lukas Kwasniok nach BVB Spiel: "Timo geht es sehr schlecht."</span>
            <span class="news-item">Nico Schlotterbeck von Borussia Dortmund w√§hlt seine Zukunft 2027.</span>
            <span class="news-item">Ilkay G√ºndogan verteidigt Florian Wirtz gegen Kritik.</span>
            <span class="news-item">Werder Bremen gewinnt knapp gegen Union Berlin.</span>
            <span class="news-item">H√∂chste Heimniederlage: Augsburg 0:6 gegen Leipzig!</span>
        </div>
    </div>

    <!-- Header -->
    <header>
        <div class="logo">GoalNewsDE</div>
        <nav>
            <a href="bundesliga.html">Bundesliga</a>
            <a href="2liga.html">2. Bundesliga</a>
            <a href="letzter spieltag.html">Letzter Spieltag</a>
            <a href="statistics.html">Statistiken</a>
            <a href="news.html">News</a>
            <a href="comments.html">Forum</a>
            <a href="abstimmungen.html">Abstimmungen</a>
            <a href="login.html">Secret</a>
            <a href="https://whatsapp.com/channel/0029Vb7PDwN8V0toB3ATWZ1Y">WhatsApp</a>
            <a href="https://www.youtube.com/@Goalnewsde">YouTube</a>
        </nav>
        <div class="burger">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </header>

    <!-- Countdown -->
    <div class="countdown-section">
        <h2>‚è±Ô∏è 1. Samstagspiel des 9. Spieltag startet in:</h2>
        <div id="countdown">lade...</div>
    </div>

    <!-- Matches -->
    <div class="matches">
        <h2>‚öΩ Bundesliga - Spieltag 9 (31. Oktober - 2. November)</h2>
        <h4>Freitag:</h4>
        <h3>FC Augsburg 0:1 Borussia Dortmund (FT)</h3>
        <h4>Samstag:</h4>
        <h3>
            Mainz 05 - Werder Bremen (15:30 Uhr)<br>
            RB Leipzig - VfB Stuttgart (15:30 Uhr)<br>
            Union Berlin - SC Freiburg (15:30 Uhr)<br>
            FC St. Pauli - Bor. M√∂nchengladbach (15:30 Uhr)<br>
            FC Heidenheim - Eintracht Frankfurt (15:30 Uhr)<br>
            <h2>Topspiel: Bayer Leverkusen - Bayern M√ºnchen (18:30 Uhr)</h2>
        </h3>
        <h4>Sonntag:</h4>
        <h3>1. FC K√∂ln - Hamburger SV (15:30 Uhr)<br>
            VfL Wolfsburg - TSG Hoffenheim (17:30 Uhr)
        </h3>
    </div>

    <!-- Live-Ticker -->
    <div class="ticker-wrapper">
        <div class="ticker" id="ticker"></div>
    </div>

    <!-- Footer -->
    <footer>
        GoalNewsDE ¬© 2025 ‚Äì Don‚Äôt steal our stuff.
        <a href="mailto:info@goalnewsde.de">Email</a> | <a href="agb.html">Datenschutz</a>
    </footer>

    <!-- üîπ Problem melden Bereich -->
    <div id="reportSection">
        <!-- versteckte Checkbox -->
        <input type="checkbox" id="toggleReport" hidden>

        <!-- Label wird zum Button -->
        <label for="toggleReport" id="reportButton">‚ö†Ô∏è Problem melden</label>

        <!-- Formular -->
        <div id="reportForm">
            <h3>üõ†Ô∏è Fehler melden</h3>
            <label for="errorType">Art des Fehlers:</label>
            <select id="errorType">
                <option value="Sicherheitsfehler">Sicherheitsfehler</option>
                <option value="Anzeigeproblem">Anzeigeproblem</option>
                <option value="Falsche Information">Falsche Information</option>
                <option value="Kommentarproblem">Kommentarproblem</option>
                <option value="Anderes">Anderes</option>
            </select>

            <textarea id="errorDescription" rows="4" placeholder="Beschreibe den Fehler..."></textarea>

            <button id="sendReport" type="button">üì® Absenden</button>
        </div>
    </div>


    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/google-sheets-client.js"></script>
    <script src="js/table-renderer.js"></script>
    <script src="js/sheets-api.js"></script>
    <script src="js/auto-refresh.js"></script>

    <script>
        // Seite immer im Dark-Mode starten
        document.body.classList.add('dark');

        // Countdown
        const matchDate = new Date("November 1, 2025 15:30:00").getTime();
        const countdownEl = document.getElementById("countdown");

        setInterval(() => {
            const now = new Date().getTime();
            const diff = matchDate - now;

            if (diff < 0) {
                countdownEl.textContent = "Anpfiff!";
                return;
            }

            const d = Math.floor(diff / (1000 * 60 * 60 * 24));
            const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((diff % (1000 * 60)) / 1000);
            countdownEl.textContent = `${d}d ${h}h ${m}m ${s}s`;
        }, 1000);

        // Live-Ticker
        document.addEventListener("DOMContentLoaded", async () => {
            const ticker = document.getElementById("ticker");
            const api = SheetsAPI.getInstance();
            const autoRefresh = AutoRefresh.getInstance();

            async function updateTicker() {
                try {
                    const data = await api.fetchTicker();
                    const flatData = data.flat();
                    ticker.textContent = flatData.join(' ‚Ä¢ ');

                    const textWidth = ticker.offsetWidth;
                    const wrapperWidth = ticker.parentElement.offsetWidth;
                    const duration = (textWidth + wrapperWidth) * 25;
                    ticker.style.animation = `scrollTicker ${duration}ms linear infinite`;
                } catch (e) {
                    console.error("Ticker Fehler:", e);
                }
            }
            autoRefresh.start(updateTicker, 5000, "Ticker");
        });
    </script>

    <!-- üîπ Firebase Problem melden Script (ohne Anmeldung n√∂tig) -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-app.js";
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBmIcdFtxv4jBJKdiAkEiwnkQ8yRwiG_0w",
            authDomain: "goalnewsde-community.firebaseapp.com",
            projectId: "goalnewsde-community",
            storageBucket: "goalnewsde-community.firebasestorage.app",
            messagingSenderId: "134523022055",
            appId: "1:134523022055:web:4f35ed7812d06e4fb55042"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        document.addEventListener("DOMContentLoaded", () => {
            const reportButton = document.getElementById("reportButton");
            const reportForm = document.getElementById("reportForm");
            const sendReport = document.getElementById("sendReport");
            const errorType = document.getElementById("errorType");
            const errorDescription = document.getElementById("errorDescription");

            reportButton.addEventListener("click", () => {
                reportForm.style.display = reportForm.style.display === "none" ? "block" : "none";
            });

            sendReport.addEventListener("click", async (event) => {
                event.preventDefault();
                const type = errorType.value;
                const description = errorDescription.value.trim();
                if (!description) return alert("Bitte eine Beschreibung eingeben!");

                try {
                    await addDoc(collection(db, "reports"), {
                        type,
                        description,
                        created: serverTimestamp()
                    });
                    alert("‚úÖ Vielen Dank! Dein Bericht wurde anonym gesendet.");
                    errorDescription.value = "";
                    reportForm.style.display = "none";
                } catch (e) {
                    console.error("Fehler beim Senden:", e);
                    alert("‚ùå Fehler beim Senden. Bitte sp√§ter erneut versuchen.");
                }
            });
        });
        const bgLogo = document.querySelector('.bg-logo');
        function activateGlow() {
            bgLogo.classList.add('active');
            setTimeout(() => bgLogo.classList.remove('active'), 2000);
        }
        bgLogo.addEventListener('mouseenter', activateGlow);
        bgLogo.addEventListener('touchstart', activateGlow);

        const burger = document.querySelector(".burger");
        const nav = document.querySelector("nav");

        burger.addEventListener("click", () => {
            burger.classList.toggle("active");
            nav.classList.toggle("active");
        });
        const reportButton = document.getElementById("reportButton");
        const reportForm = document.getElementById("reportForm");

        reportButton.addEventListener("click", () => {
            reportForm.classList.toggle("active");
        });


    </script>

    <script async defer src="https://apis.google.com/js/api.js"></script>
</body>

</html>