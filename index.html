<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoalNewsDE - Fu√üball-News & Tabellen</title>

    <!-- Favicon -->
    <link rel="icon" href="https://i.ibb.co/21R6p75W/Logo-1.jpg" type="image/jpeg">

    <link rel="stylesheet" href="style.css">

    <!-- PWA / App -->
    <meta name="theme-color" content="#1db954">
    <link rel="apple-touch-icon" href="https://i.ibb.co/21R6p75W/Logo-1.jpg">
    <link rel="manifest" href="manifest.json">

</head>

<body>
    <div id="breakingNews">
        <div class="news-wrapper">
            <span class="news-item">RB Leipzig weiter ungeschlagen ‚Äì setzen ihre Serie fort!</span>
            <span class="news-item">Lukas Kwasniok nach BVB Spiel: "Timo geht es sehr schlecht."</span>
            <span class="news-item">Nico Schlotterbeck von Borussia Dortmund w√§hlt seine Zukunft 2027.</span>
            <span class="news-item">Ilkay G√ºndogan verteidigt Florian Wirtz gegen Kritik.</span>
            <span class="news-item">Werder Bremen gewinnt knapp gegen Union Berlin.</span>
            <span class="news-item">H√∂chste Heimniederlage: Augsburg 0:6 gegen Leipzig!</span>

        </div>
    </div>

    <!-- Header -->
    <header>
        <div class="logo">GoalNewsDE</div>
    </header>
    <button id="themeToggle">üåô</button>

    <!-- Hero -->
    <div class="hero-container">
        <div class="bg-logo">GoalNewsDE</div>
        <div class="hero-text">Offizielle Website von GoalNewsDE ‚Äì Alle Fu√üball-News auf einen Blick!</div>
        <div class="hero-buttons">
            <a href="bundesliga.html" class="hero-button">1. Bundesliga</a>
            <a href="2liga.html" class="hero-button">2. Bundesliga</a>
            <a href="statistics.html" class="hero-button">Statistiken</a>
            <a href="news.html" class="hero-button">News</a>
        </div>
    </div>


    <!-- Socials -->
    <div class="socials">
        <a href="https://whatsapp.com/channel/0029Vb7PDwN8V0toB3ATWZ1Y" target="_blank">WhatsApp</a>
        <a href="http://tiktok.com/@goal.news25" target="_blank">TikTok</a>
        <a href="https://youtube.com/" target="_blank">YouTube</a>
    </div>

    <!-- Newsletter-Form -->
    <div class="newsletter">
        <h3>üì¨ Melde dich f√ºr unseren Newsletter an!</h3>
        <form id="newsletterForm">
            <input type="email" name="email" placeholder="Deine E-Mail" required>
            <button type="submit">Anmelden</button>
        </form>
        <div id="newsletterMessage"></div>
    </div>

    <!-- Countdown -->
    <div class="countdown-section">
        <h2>‚è± Erstes Sonntagsspiel startet in:</h2>
        <div id="countdown">lade...</div>
    </div>

    <!-- Matches -->
    <div class="matches">
        <h2>‚öΩ Bundesliga - Spieltag (24-26 Oktober 2025)</h2>
        <h4>Freitag:</h4>
        <h3>Werder Bremen 1:0 Union Berlin (FT)</h3>
        <h4>Samstag:</h4>
        <h3>Eintracht Frankfurt 2:0 St. Pauli (FT)<br>Gladbach 0:3 Bayern (FT)<br>Augsburg 0:6 RB Leipzig
            (FT)<br>Hoffenheim 3:1 Heidenheim (FT)<br>HSV 0:1 VfL Wolfsburg (FT)<br>üèÜ Topspiel: Borussia Dortmund 1:0
            FC K√∂ln (FT)</h3>
        <h4>Sonntag:</h4>
        <h3>Bayer Leverkusen - SC Freiburg (15:30 Uhr)<br>VfB Stuttgart - Mainz 05 (17:30 Uhr)</h3>
    </div>

    <!-- Live-Ticker -->
    <div class="ticker-wrapper">
        <div class="ticker" id="ticker"></div>
    </div>

    <!-- Footer -->
    <footer>
        GoalNewsDE ¬© 2025 ‚Äì Don‚Äôt steal our stuff.
        <a href="mailto:info@goalnewsde.de">Email</a> | <a href="agb.html">Datenschutz</a>
    </footer>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/google-sheets-client.js"></script>
    <script src="js/table-renderer.js"></script>
    <script src="js/sheets-api.js"></script>
    <script src="js/auto-refresh.js"></script>

    <script>
        // Seite immer im Dark-Mode starten
        document.body.classList.add('dark');

        // =========================
        // üåô DARK MODE
        // =========================
        const toggle = document.getElementById('themeToggle');
        const darkMode = localStorage.getItem('theme') === 'dark'
            || (localStorage.getItem('theme') === null && window.matchMedia('(prefers-color-scheme: dark)').matches);

        if (darkMode) document.body.classList.add('dark');
        toggle.textContent = document.body.classList.contains('dark') ? '‚òÄÔ∏è' : 'üåô';

        toggle.addEventListener('click', () => {
            document.body.classList.toggle('dark');
            localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
            toggle.textContent = document.body.classList.contains('dark') ? '‚òÄÔ∏è' : 'üåô';
        });

        // =========================
        // ‚è± COUNTDOWN
        // =========================
        const matchDate = new Date("October 26, 2025 15:30:00").getTime();
        const countdownEl = document.getElementById("countdown");

        setInterval(() => {
            const now = new Date().getTime();
            const diff = matchDate - now;
            if (diff < 0) {
                countdownEl.textContent = "Anpfiff!";
                return;
            }
            const d = Math.floor(diff / (1000 * 60 * 60 * 24));
            const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((diff % (1000 * 60)) / 1000);
            countdownEl.textContent = `${d}d ${h}h ${m}m ${s}s`;
        }, 1000);

        // =========================
        // üì∞ LIVE TICKER
        // =========================
        document.addEventListener("DOMContentLoaded", async () => {
            const ticker = document.getElementById("ticker");

            // Sheets API Wrapper
            class SheetsAPI {
                static getInstance() {
                    if (!SheetsAPI.instance) SheetsAPI.instance = new SheetsAPI();
                    return SheetsAPI.instance;
                }
                async fetchTicker() {
                    // Hier deine eigene API einf√ºgen
                    // return [["News1", "News2", "News3"]];
                    try {
                        const response = await fetch("https://script.google.com/macros/s/YOUR_LIVE_TICKER_WEBAPP_ID/exec");
                        return await response.json();
                    } catch (err) {
                        console.error(err);
                        return [["Fehler beim Laden des Tickers"]];
                    }
                }
            }

            // AutoRefresh
            class AutoRefresh {
                static getInstance() {
                    if (!AutoRefresh.instance) AutoRefresh.instance = new AutoRefresh();
                    return AutoRefresh.instance;
                }
                start(callback, interval = 5000) {
                    callback();
                    setInterval(callback, interval);
                }
            }

            const api = SheetsAPI.getInstance();
            const autoRefresh = AutoRefresh.getInstance();
            autoRefresh.start(async () => {
                const data = await api.fetchTicker();
                ticker.innerHTML = "";
                data.flat().forEach(text => {
                    const span = document.createElement("span");
                    span.textContent = text;
                    ticker.appendChild(span);
                });
            }, 5000);
        });

        // =========================
        // ‚úâÔ∏è NEWSLETTER
        // =========================
        const form = document.getElementById('newsletterForm');
        const message = document.getElementById('newsletterMessage');
        const webAppURL = "https://script.google.com/macros/s/AKfycbzGv1-XvC-fhtgLjK9Q7s50m7vZBADLBX5fyGvO698RDEyGbDrbt2TfD78payeHB7JLTQ/exec";

        if (form) {
            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                const email = form.email.value;

                try {
                    const res = await fetch(webAppURL + "?email=" + encodeURIComponent(email), { method: "POST" });
                    const text = await res.text();
                    message.textContent = text;
                    form.reset();
                } catch (err) {
                    message.textContent = "Fehler beim Anmelden üòï";
                    console.error(err);
                }
            });
        }

    </script>


    <script async defer src="https://apis.google.com/js/api.js" onload="startTicker()"></script>
</body>

</html>