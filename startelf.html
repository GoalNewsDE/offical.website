<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GoalNewsDE - Dynamische Startelf</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

    body {
        margin: 0;
        font-family: 'Poppins', sans-serif;
        background: radial-gradient(circle at center, #0a4d28 0%, #062815 100%);
        color: white;
        overflow-x: hidden;
    }

    header {
        text-align: center;
        padding: 15px;
        font-size: 1.6em;
        font-weight: 600;
        background: #111;
        border-bottom: 3px solid #00ff66;
        text-transform: uppercase;
        letter-spacing: 2px;
    }

    .wrapper {
        display: flex;
        justify-content: center;
        align-items: flex-start;
        gap: 40px;
        padding: 40px;
        flex-wrap: wrap;
    }

    .team {
        flex: 1;
        min-width: 320px;
        max-width: 600px;
        background: linear-gradient(160deg, #0e572a, #09401f);
        border-radius: 20px;
        box-shadow: 0 0 25px rgba(0, 255, 100, 0.25);
        padding: 20px;
    }

    .team h2 {
        text-align: center;
        font-size: 1.3em;
        border-bottom: 2px solid rgba(255,255,255,0.3);
        padding-bottom: 10px;
        margin-bottom: 15px;
        text-transform: uppercase;
    }

    .field {
        position: relative;
        width: 100%;
        padding-top: 140%;
        background: linear-gradient(#0a8a3a, #06642a);
        border-radius: 12px;
        border: 3px solid #fff;
        overflow: hidden;
    }

    .player {
        position: absolute;
        width: 60px;
        text-align: center;
        transform: translate(-50%, -50%);
        transition: transform 0.3s ease;
        cursor: pointer;
    }

    .circle {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: #ffcc00;
        color: #000;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: bold;
        font-size: 1.2em;
        box-shadow: 0 0 15px rgba(255,255,0,0.5);
        margin: 0 auto;
        transition: 0.3s;
    }

    .player:hover .circle {
        transform: scale(1.1);
        background: #fff000;
    }

    .name {
        font-size: 0.8em;
        margin-top: 4px;
        text-shadow: 0 0 5px rgba(0,0,0,0.6);
    }

    /* Admin Controls */
    #adminPanel {
        text-align: center;
        background: #111;
        padding: 15px;
        display: none;
    }
    #formationSelect {
        background: #00ff66;
        border: none;
        color: #000;
        font-weight: bold;
        padding: 8px 12px;
        border-radius: 6px;
    }
</style>
</head>
<body>

<header>GoalNewsDE - Startelf Vergleich</header>

<div id="adminPanel">
    <label>Formation w√§hlen: </label>
    <select id="formationSelect">
        <option value="4-4-2">4-4-2</option>
        <option value="4-3-3">4-3-3</option>
        <option value="3-5-2">3-5-2</option>
        <option value="5-3-2">5-3-2</option>
        <option value="4-2-3-1">4-2-3-1</option>
    </select>
</div>

<div class="wrapper">
    <div class="team" id="teamA">
        <h2>FC Bayern M√ºnchen</h2>
        <div class="field" id="fieldA"></div>
    </div>

    <div class="team" id="teamB">
        <h2>Borussia Dortmund</h2>
        <div class="field" id="fieldB"></div>
    </div>
</div>

<script>
// üîπ Admin UIDs
const adminUIDs = ["g7Lsh9MshAOkwbyHcO3NFsnUpZl1", "lwRnonWRhMOeYedZLAldySkEKso2"];
const currentUID = "g7Lsh9MshAOkwbyHcO3NFsnUpZl1"; // aus Firebase sp√§ter

if(adminUIDs.includes(currentUID)){
    document.getElementById("adminPanel").style.display = "block";
}

// üîπ Spieler Arrays mit Objekten
let teamAPlayers = Array(11).fill().map(()=>({name:"?", number:"?"}));
let teamBPlayers = Array(11).fill().map(()=>({name:"?", number:"?"}));

// üîπ Aktuelle Formation
let currentFormation = "4-3-3";

// üîπ Positionierung
function setFormation(field, players, formation){
    field.innerHTML = "";
    const rows = formation.split('-').map(n=>parseInt(n));
    const stepY = 100 / (rows.length + 1);
    let currentY = 100 - stepY; // Torwart unten
    let index = 0;

    // Torwart
    addPlayer(field, players[index++], currentY, 50);

    for(let i=0;i<rows.length;i++){
        currentY -= stepY;
        const count = rows[i];
        const stepX = 100 / (count + 1);
        for(let j=0;j<count;j++){
            const x = stepX * (j + 1);
            addPlayer(field, players[index++], currentY, x);
        }
    }
}

// üîπ Spieler erzeugen
function addPlayer(field, playerObj, top, left){
    const player = document.createElement("div");
    player.className = "player";
    player.style.top = top + "%";
    player.style.left = left + "%";

    const circle = document.createElement("div");
    circle.className = "circle";
    circle.textContent = playerObj.number !== "?" ? playerObj.number : "";

    const label = document.createElement("div");
    label.className = "name";
    label.textContent = playerObj.name;

    // Nur Admin kann bearbeiten
    if(adminUIDs.includes(currentUID)){
        circle.onclick = () => {
            const name = prompt("Spielername eingeben:", playerObj.name);
            const number = prompt("Nummer eingeben:", playerObj.number);
            if(name && number){
                playerObj.name = name;
                playerObj.number = number;
                setFormation(fieldA, teamAPlayers, currentFormation);
                setFormation(fieldB, teamBPlayers, currentFormation);
            }
        }
    }

    player.appendChild(circle);
    player.appendChild(label);
    field.appendChild(player);
}

// üîπ Initial Render
const fieldA = document.getElementById("fieldA");
const fieldB = document.getElementById("fieldB");
setFormation(fieldA, teamAPlayers, currentFormation);
setFormation(fieldB, teamBPlayers, currentFormation);

// üîπ Admin kann Formation √§ndern
document.getElementById("formationSelect").addEventListener("change", e=>{
    currentFormation = e.target.value;
    setFormation(fieldA, teamAPlayers, currentFormation);
    setFormation(fieldB, teamBPlayers, currentFormation);
});
</script>

</body>
</html>
