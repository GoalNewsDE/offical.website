<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GoalNewsDE - Dynamische Startelf</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

    body {
        margin: 0;
        font-family: 'Poppins', sans-serif;
        background: radial-gradient(circle at center, #0a4d28 0%, #062815 100%);
        color: white;
        overflow-x: hidden;
    }

    header {
        text-align: center;
        padding: 15px;
        font-size: 1.6em;
        font-weight: 600;
        background: #111;
        border-bottom: 3px solid #00ff66;
        text-transform: uppercase;
        letter-spacing: 2px;
    }

    .wrapper {
        display: flex;
        justify-content: center;
        align-items: flex-start;
        gap: 40px;
        padding: 40px;
        flex-wrap: wrap;
    }

    .team {
        flex: 1;
        min-width: 320px;
        max-width: 600px;
        background: linear-gradient(160deg, #0e572a, #09401f);
        border-radius: 20px;
        box-shadow: 0 0 25px rgba(0, 255, 100, 0.25);
        padding: 20px;
    }

    .team h2 {
        text-align: center;
        font-size: 1.3em;
        border-bottom: 2px solid rgba(255,255,255,0.3);
        padding-bottom: 10px;
        margin-bottom: 15px;
        text-transform: uppercase;
    }

    .field {
        position: relative;
        width: 100%;
        padding-top: 140%;
        background: linear-gradient(#0a8a3a, #06642a);
        border-radius: 12px;
        border: 3px solid #fff;
        overflow: hidden;
    }

    .field::before {
        content: "";
        position: absolute;
        left: 50%;
        top: 0;
        bottom: 0;
        width: 2px;
        background: rgba(255,255,255,0.4);
        transform: translateX(-50%);
    }

    .player {
        position: absolute;
        width: 60px;
        text-align: center;
        transform: translate(-50%, -50%);
        transition: transform 0.3s ease;
    }

    .circle {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: #ffcc00;
        color: #000;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: bold;
        font-size: 1.2em;
        box-shadow: 0 0 15px rgba(255,255,0,0.5);
        margin: 0 auto;
        transition: 0.3s;
    }

    .player:hover .circle {
        transform: scale(1.1);
        background: #fff000;
    }

    .name {
        font-size: 0.8em;
        margin-top: 4px;
        text-shadow: 0 0 5px rgba(0,0,0,0.6);
    }

    /* Admin Controls */
    #adminPanel {
        text-align: center;
        background: #111;
        padding: 15px;
        display: none;
    }
    #formationSelect {
        background: #00ff66;
        border: none;
        color: #000;
        font-weight: bold;
        padding: 8px 12px;
        border-radius: 6px;
    }
</style>
</head>
<body>

<header>GoalNewsDE - Startelf Vergleich</header>

<div id="adminPanel">
    <label>Formation wählen: </label>
    <select id="formationSelect">
        <option value="4-4-2">4-4-2</option>
        <option value="4-3-3">4-3-3</option>
        <option value="3-5-2">3-5-2</option>
        <option value="5-3-2">5-3-2</option>
    </select>
</div>

<div class="wrapper">
    <div class="team" id="teamA">
        <h2>FC Bayern München</h2>
        <div class="field" id="fieldA"></div>
    </div>

    <div class="team" id="teamB">
        <h2>Borussia Dortmund</h2>
        <div class="field" id="fieldB"></div>
    </div>
</div>

<script>
/* Beispielhafte UIDs der Admins */
const adminUIDs = ["adminUID_1", "adminUID_2"];
const currentUID = "adminUID_1"; // später automatisch aus Firebase gesetzt

/* Wenn Admin → Steuerfeld anzeigen */
if (adminUIDs.includes(currentUID)) {
    document.getElementById('adminPanel').style.display = 'block';
}

/* Beispiel-Spieler */
const teamAPlayers = [
    "Neuer","Mazraoui","de Ligt","Upamecano","Davies",
    "Kimmich","Goretzka","Musiala","Coman","Kane","Sané"
];
const teamBPlayers = [
    "Kobel","Ryerson","Hummels","Schlotterbeck","Bensebaini",
    "Can","Brandt","Sabitzer","Malen","Füllkrug","Adeyemi"
];

/* Positionierung nach Formation */
function setFormation(teamField, players, formation) {
    teamField.innerHTML = "";

    const rows = formation.split('-').map(n => parseInt(n));
    const total = rows.reduce((a,b)=>a+b,1); // +1 für Torwart
    let playerIndex = 0;

    const stepY = 100 / (rows.length + 1);
    let currentY = 100 - stepY; // Torwart unten

    // Torwart
    addPlayer(teamField, players[playerIndex++], currentY, 50);

    // Linien
    for (let i = 0; i < rows.length; i++) {
        currentY -= stepY;
        const count = rows[i];
        const stepX = 100 / (count + 1);
        for (let j = 0; j < count; j++) {
            const x = stepX * (j + 1);
            const y = currentY;
            addPlayer(teamField, players[playerIndex++], y, x);
        }
    }
}

/* Spieler erzeugen */
function addPlayer(field, name, top, left) {
    const player = document.createElement("div");
    player.className = "player";
    player.style.top = top + "%";
    player.style.left = left + "%";
    const circle = document.createElement("div");
    circle.className = "circle";
    circle.textContent = field.children.length + 1;
    const label = document.createElement("div");
    label.className = "name";
    label.textContent = name;
    player.appendChild(circle);
    player.appendChild(label);
    field.appendChild(player);
}

/* Initial */
const fieldA = document.getElementById("fieldA");
const fieldB = document.getElementById("fieldB");
setFormation(fieldA, teamAPlayers, "4-3-3");
setFormation(fieldB, teamBPlayers, "4-3-3");

/* Admin kann Formation ändern */
document.getElementById("formationSelect").addEventListener("change", e => {
    const formation = e.target.value;
    setFormation(fieldA, teamAPlayers, formation);
    setFormation(fieldB, teamBPlayers, formation);
});
</script>
</body>
</html>
